# Unix terminal support

V7 /usr/man/man0/intro

> ## Logging in.
>
> You must call UNIX from an appropriate terminal. UNIX terminals are typified
> by the TTY 43, the GE Terminet 300, the DASI 300S and 450, and most video
> terminals such as the Datamedia 5120 or HP 2640. You must also have a valid
> user name, which may be obtained, together with the telephone number, from the
> system administrators. The same telephone number serves terminals operating at
> all the standard speeds. After a data connection is established, the login
> procedure depends on what kind of terminal you are using.
>
> **300-baud terminals:**
>
> Such terminals include the GE Terminet 300 and most display terminals run with
> popular modems. These terminals generally have a speed switch which should be
> set at ‘300’ (or ‘30’ for 30 characters per second) and a half/full duplex
> switch which should be set at full-duplex. (This switch will often have to be
> changed since many other systems require half-duplex). When a connection is
> established, the system types ‘login:’; you type your user name, followed by
> the ‘return’ key. If you have a password, the system asks for it and turns off
> the printer on the terminal so the password will not appear. After you have
> logged in, the ‘return’, ‘new line’, or ‘linefeed’ keys will give exactly the
> same results.
>
> **1200- and 150-baud terminals:** If there is a half/full duplex switch, set
> it at full-duplex. When you have established a data connection, the system
> types out a few garbage characters (the ‘login:’ message at the wrong speed).
> Depress the ‘break’ (or ‘interrupt’) key; this is a speed-independent signal
> to UNIX that a different speed terminal is in use. The system then will type
> ‘login:,’ this time at another speed. Continue depressing the break key until
> ‘login:’ appears in clear, then respond with your user name. From the TTY 37
> terminal, and any other which has the ‘newline’ function (combined carriage
> return and linefeed), terminate each line you type with the ‘new line’ key,
> otherwise use the ‘return’ key.
>
> **Hard-wired terminals.**
>
> Hard-wired terminals usually begin at the right speed, up to 9600 baud;
> otherwise the preceding instructions apply.
>
> For all these terminals, it is important that you type your name in lower-case
> if possible; if you type upper-case letters, UNIX will assume that your
> terminal cannot generate lower-case letters and will translate all subsequent
> upper-case letters to lower case.
>
> The evidence that you have successfully logged in is that the Shell program
> will type a ‘$’ to you. (The Shell is described below under ‘How to run a
> program.’)
>
> For more information, consult stty(1), which tells how to adjust terminal
> behavior, getty(8), which discusses the login sequence in more detail, and
> tty(4), which discusses terminal I/O.

## tabs(1)

Supported terminals and their identifiers:

- `dasi300`, `300`: DASI 300
- `dasi300s`, `300s`: DASI 300S
- `dasi450`, `450`: DASI 450
- `37`, `tty37`: Teletype Model 37
- `tn300`, `terminet`, `tn`: TermiNet 300
- `hp`: HP 2645

When no terminal is specified, it attempts to automatically detect the terminal
with `gtty`. A 300-baud terminal with CR mapping on (`CRMOD`) but uppercase
mapping off (`LCASE`) is assumed to be a Terminet 300, and it runs a simplified
version of initialization for that model. A 150-baud terminal with neither CR
mapping nor uppercase mapping is assumed to be a Teletype Model 37 and
initialized as such.

Procedure for the Teletype Model 37:

1. Shift in: SI
2. Clear tab stops:
   1. Clear horizontal tab stops: ESC 2
   2. Delay for 40 units: DEL (40 times)
   3. New line: CR LF
3. BS (8 times)
4. Set tab stops:
   1. Repeat 8 times or 9 times if `-n`:
      1. Space (8 times)
      2. Set horizontal tab stop: ESC 1
5. LF

> If the -n flag is present then the left margin is not indented as is normal.

## Teletype Model 33 and 37 use in Unix

The Model 37 Teletype was in use for UNIX by the time of the
["DRAFT: The UNIX Time-Sharing System"](https://www.tuhs.org/Archive/Distributions/Research/McIlroy_v0/UnixEditionZero-Threshold_OCR.pdf)
in mid-1971:

> The user may also force the program to stop and a core image file to be
> written by sending an interrupt signal. Currently this signal is generated by
> typing the ASCII "FS" character (control "\" on model 37 Teletypes). Thus
> programs which are looping or about which the user has second thoughts may be
> halted.

Brian Kernighan talked about the use of the Teletype Model 37 [at VCF East 2025](https://www.youtube.com/watch?v=WEb_YL1K1Qg&t=2940s):

> **Question**:
>
> So as someone who was unfortunately a little young to use a teletype in anger,
> I have a question about how it was. First of all, the famous picture of Ken
> and Dennis, they're Teletype Model 33s, which are ASCII 63, so they're
> capital-only, they're missing some characters, and early Unix doesn't have
> those characters. And my question is, by the time C came along, were you all
> done with those teletypes, or, if not, why is it the case that C uses
> characters that aren't on those teletypes. Do you have some intuition as to
> how we came to that place?
>
> **Brian Kernighan**:
>
> Yeah, I think the answer is, the Model 33 came along first, because they were
> made by AT&T, and so they were available, but as you pointed out quite
> correctly, they were essentially upper case devices only with at most 64
> characters. But, very soon after that, and I don't remember the exact date,
> came along the Model 37 Teletype, which had upper and lower case, and so most
> of the software after that first two or three versions of Unix was using—still
> paper—, but the Model 37 Teletype, which was almost as much of an
> upper-body-developing device—you really had to push on it—, but it had a full
> character set, and so that was the important thing.
>
> This is a story which I don't know why I've never told it before, certainly
> not here before. It also had some weird properties, because it was
> tractor-feed paper, so it was fan-folded, but with holes along the side so it
> could be pulled through and maintain alignment very easily. But one of the
> things you could do was, you could run it backwards, that is, you could take
> the paper out, as well as in. And I still remember Robert Morris Sr. sending
> an email to Joe Ossanna which contained a hundred reverse line feeds—so it
> sucked the paper out of the 37 and dropped it on the floor. And you don't want
> to have to thread the paper on those things.

Evidently, they usually used tractor/sprocket-feed paper for Unix.

## References

- V7 /usr/man/man0/intro
- V7 /usr/src/cmd/tabs.c
- V7 /usr/man/man1/tabs.1

TODO:
- V7 /usr/sys/dev/tty.c: Teletype handling in the kernel
- V7 /usr/sys/dev/dc.c: [DC11](https://gunkies.org/wiki/DC11_asynchronous_serial_line_interface)
  driver
